{% extends 'base1.html' %} {% block content %} {% load static %}
<link rel="stylesheet" href="{% static 'ai/css/ai_popup.css' %}" />
<link rel="stylesheet" href="{% static 'problems/css/problem_detail.css' %}" />
<div class="problem-container">
  <div class="problem-left">
    <h2>{{ problem.problem_name }}</h2>
    <p>
      <strong>Difficulty:</strong> {{ problem.get_problem_difficulty_display }}
    </p>

    <h3>Statement</h3>
    <p>{{ problem.statement }}</p>

    <h3>Constraints</h3>
    <p>{{ problem.constraints }}</p>
  </div>

  <div class="problem-right">
    <!-- Code Editor -->
    <div class="editor-section">
      <div
        style="
          display: flex;
          justify-content: space-between;
          align-items: center;
        "
      >
        <h4><span style="color: rgb(62, 191, 2)">&lt;/&gt;</span> Code</h4>
        <select
          id="languageSelect"
          style="margin-bottom: 10px; width: 150px; padding: 5px"
        >
          <option value="cpp">C++</option>
          <option value="python">Python</option>
          <option value="java">Java</option>
        </select>
      </div>

      <!-- THE EDITOR -->
      <textarea id="codeArea" height="500px"></textarea>

      <div class="editor-buttons">
        <button id="ai-review-btn" type="button" class="btn me-auto">
          <span>AI Review</span>
        </button>

        <button class="run-btn" id="runBtn">Run</button>
        <button class="submit-btn" id="submitBtn">Submit</button>
      </div>
    </div>

    <!-- Input/Output -->
    <div class="io-section bg-black-700 text-white rounded-xl shadow-lg">
      <!-- Tabs -->
      <div class="flex border-b border-gray-700">
        <button
          id="tab-input"
          class="tab-btn px-4 py-2 text-sm font-medium border-b-2"
        >
          Input
        </button>
        <button
          id="tab-output"
          class="tab-btn px-4 py-2 text-sm font-medium text-gray-400 hover:text-white"
        >
          Output
        </button>
      </div>

      <!-- Tab Contents -->
      <div id="input-tab" class="tab-content">
        <textarea
          id="inputArea"
          placeholder="Your input..."
          class="w-full h-40 p-2 rounded bg-dark text-white focus:outline-none border-none"
        ></textarea>
      </div>

      <div id="output-tab" class="tab-content hidden">
        <textarea
          id="outputArea"
          placeholder="Your output..."
          class="w-full h-40 p-2 rounded bg-dark text-white border-none focus:outline-none"
          readonly
        ></textarea>
      </div>
    </div>
  </div>
</div>
<div id="ai-review-modal" style="display: none"></div>
<script>
  window.problemId = `{{ problem.id }}`;
  window.latest_submissions = JSON.parse(
    "{{ latest_submissions_json|escapejs }}"
  );
  window.latestLang = `{{ latest_lang }}`;
</script>
<script src="{% static 'ai/js/ai.js' %}"></script>
<script src="{% static 'problems/js/editor.js' %}"></script>
<!-- <script src="{% static 'problems/js/boilerplates.js' %}"></script> -->
<div id="ai-review-modal" style="display: none"></div>

{% endblock %}
